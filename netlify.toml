[build]
  command = "npm run build"
  publish = "dist"

# Prevent CDN from caching the service worker and registration script.
# Browsers must always fetch the latest sw.js to detect updates.
[[headers]]
  for = "/sw.js"
  [headers.values]
    Cache-Control = "no-cache"

[[headers]]
  for = "/registerSW.js"
  [headers.values]
    Cache-Control = "no-cache"

[[redirects]]
  from = "/sitemap.xml"
  to = "/sitemap.xml"
  status = 200

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
